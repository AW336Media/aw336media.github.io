THREE.EffectComposer=function(n,t){if(this.renderer=n,t===undefined){var i=window.innerWidth||1,r=window.innerHeight||1,u={minFilter:THREE.LinearFilter,magFilter:THREE.LinearFilter,format:THREE.RGBAFormat,stencilBuffer:!1};t=new THREE.WebGLRenderTarget(i,r,u)}this.renderTarget1=t;this.renderTarget2=t.clone();this.writeBuffer=this.renderTarget1;this.readBuffer=this.renderTarget2;this.passes=[];this.bgPass=null;this.renderPass=null;this.copyPass=null};THREE.EffectComposer.prototype={swapBuffers:function(){var n=this.readBuffer;this.readBuffer=this.writeBuffer;this.writeBuffer=n},addPass:function(n){this.passes.push(n)},insertPass:function(n,t){this.passes.splice(t,0,n)},render:function(){this.writeBuffer=this.renderTarget1;this.readBuffer=this.renderTarget2;var n,t,i=CM.fx.objects.length;for(this.bgPass&&(this.bgPass.render(this.renderer,this.writeBuffer,this.readBuffer,!0),this.renderer.clearTarget(this.writeBuffer,!1,!0,!0),this.swapBuffers()),this.renderPass.render(this.renderer,this.writeBuffer,this.readBuffer,this.bgPass===null),t=0;t<i;t++)(n=CM.fx.objects[t].pass,n.enabled)&&(n.render(this.renderer,this.writeBuffer,this.readBuffer,!1),n.needsSwap&&this.swapBuffers());this.copyPass.render(this.renderer,this.writeBuffer,this.readBuffer,!1)},reset:function(n){n===undefined&&(n=this.renderTarget1.clone(),n.width=window.innerWidth,n.height=window.innerHeight);this.renderTarget1=n;this.renderTarget2=n.clone();this.writeBuffer=this.renderTarget1;this.readBuffer=this.renderTarget2},setSize:function(n,t){var i=this.renderTarget1.clone();i.width=n;i.height=t;this.reset(i)}};
/*
//# sourceMappingURL=EffectComposer.min.js.map
*/