var PZeditor={};PZeditor.generateInput=function(n){var i=$("<div>",{"class":"proprow",id:n.location.attr("id")+"_"+(n.location.children().length+1)}),t,u,f,r;if(n.keyframed&&(i.append($("<a>",{"class":"sprite-timeinvert",style:"background-color:"+n.color+";"})),i.attr("keyframe","true")),i.append($("<span>",{"class":"proplabel"}).append(n.title)),n.keyframed&&(t=$("<div>",{"class":"editbox",style:"margin-bottom:5px;position:relative;width: 140px;height: 24px;top:4px;"}),t.append($("<span>",{"class":"proplabel",style:"top: -5px;position: relative;"}).append("(pause to edit)")),t.append($("<a>",{"class":"sprite-first toolbarButton",title:"previous keyframe"}).click(function(){CM.currentFrame=CM.keyframes.previous(n.property,CM.currentFrame);CM.updateFrameUI()})),t.append($("<a>",{"class":"sprite-moveleft toolbarButton",title:"move backwards"}).click(function(){CM.currentFrame=CM.keyframes.moveBackward(n.property,CM.currentFrame)})),t.append($("<a>",{"class":"sprite-close toolbarButton",title:"delete keyframe"}).click(function(){CM.keyframes.delete(n.property,CM.currentFrame)})),t.append($("<a>",{"class":"sprite-add toolbarButton",title:"add keyframe"}).click(function(){CM.keyframes.add(n.property,CM.currentFrame)})),t.append($("<a>",{"class":"sprite-moveright toolbarButton",title:"move forwards"}).click(function(){CM.currentFrame=CM.keyframes.moveForward(n.property,CM.currentFrame);CM.updateFrameUI()})),t.append($("<a>",{"class":"sprite-last toolbarButton",title:"next keyframe"}).click(function(){CM.currentFrame=CM.keyframes.next(n.property,CM.currentFrame);CM.updateFrameUI()})),i.append(t),i.append($("<div>",{style:"clear:both;"}))),u=$("<input>",{"class":"jspinner",id:n.id1}),f=$("<div>",{"class":"editbox"}).append(u),i.append(f),i.append($("<div>",{style:"clear:both;"})),n.keyframed){if(n.tweens){for(r=$("<select>",{style:"margin-right:0;float:right;"}).change(function(){CM.keyframes.exists(n.property,CM.currentFrame).tweenfn=parseInt(this.value)}),x=0;x<TWEEN.EasingList.length;++x)r.append($("<option>",{value:x}).append(TWEEN.EasingList[x].name));i.append(r);i.append($("<div>",{style:"clear:both;"}))}i.data({updateKeyframe:function(){if(CM.enablePlayFrames)f.css("visibility","hidden"),r.css("visibility","hidden"),t.children().css("visibility","hidden"),t.children(":nth-child(1)").css("visibility","visible");else{var i=CM.keyframes.exists(n.property,CM.currentFrame);i?(f.css("visibility","visible"),i.frame!=1&&n.tweens?(r.css("visibility","visible"),r.val(CM.keyframes.exists(n.property,CM.currentFrame).tweenfn)):r.css("visibility","hidden"),u.val(i.value),t.children().css("visibility","hidden"),CM.keyframes.previous(n.property,CM.currentFrame)!=CM.currentFrame&&t.children(":nth-child(2)").css("visibility","visible"),CM.keyframes.next(n.property,CM.currentFrame)!=CM.currentFrame&&t.children(":nth-child(7)").css("visibility","visible"),i.frame!=1&&t.children(":nth-child(3),:nth-child(4),:nth-child(6)").css("visibility","visible")):(f.css("visibility","hidden"),r.css("visibility","hidden"),t.children().css("visibility","hidden"),t.children(":nth-child(5)").css("visibility","visible"),CM.keyframes.previous(n.property,CM.currentFrame)!=CM.currentFrame&&t.children(":nth-child(2)").css("visibility","visible"),CM.keyframes.next(n.property,CM.currentFrame)!=CM.currentFrame&&t.children(":nth-child(7)").css("visibility","visible"))}}})}return u.spinner({stop:function(){n.keyframed&&(CM.keyframes.exists(n.property,CM.currentFrame).value=Number(this.value));n.updatefn&&n.updatefn(Number(this.value),0)},max:n.vmax,min:n.vmin,step:n.vstep}),n.location.append(i),n.keyframed?i.data("updateKeyframe")():u.val(n.property),i};PZeditor.generateGradientPicker=function(n){var t=$("<div>",{"class":"proprow",id:n.location.attr("id")+"_"+(n.location.children().length+1)}),u,f,r;for(t.append($("<span>",{"class":"proplabel"}).append(n.title)),u=$("<div>",{"class":"gradpicker"}),t.append($("<div>",{"class":"editbox"}).append(u)),t.append($("<div>",{style:"clear:both;"})),n.location.append(t),f=[],x=0;x<n.property.length;x+=2)r={},r.position=n.property[x],r.color=n.property[x+1],f.push(r);return u.gradientPicker({change:function(t){var r=[];for(i=0;i<t.length;++i)r.push(t[i].position),r.push(t[i].color);n.updatefn(r)},generateStyles:"false",controlPoints:f}),t};PZeditor.generateTitle=function(n){var t=$("<div>",{"class":"proprow"}),i;return t.append($("<span>",{"class":"proplabel"}).append(n.title).css("font-size","18px").css("font-weight","bold")).css("background-color","#FAFAFA").css("height","30px"),n.regen&&(i=$("<a>",{style:"cursor:pointer;margin:0;background-image:url(/img/dice.png);width:30px;height:30px;background-repeat:no-repeat;background-position:center;float:right;",title:"regenerate"}).on("click",function(){}),t.append(i),t.append($("<div>",{style:"clear:both;"}))),n.location.append(t),t};PZeditor.generateFileUpload=function(n){var t=$("<div>",{"class":"proprow"}),i,r;return t.append($("<span>",{"class":"proplabel"}).append(n.title)),i=$("<input>",{type:"file",style:"height:0px;width:0px;overflow:hidden;"}).change(function(){n.updatefn(this)}),n.accept&&i.attr("accept",n.accept),r=$("<a>").append("Select").on("click",function(){i.trigger("click")}),t.append(i),t.append($("<div>",{"class":"editbox"}).append(r)),r.button(),t.append($("<div>",{style:"clear:both;"})),n.location.append(t),t};PZeditor.generateDualInput=function(n){var i=$("<div>",{"class":"proprow",id:n.location.attr("id")+"_"+(n.location.children().length+1)}),t,r;n.keyframed&&(i.append($("<a>",{"class":"sprite-timeinvert",style:"background-color:"+n.color+";"})),i.attr("keyframe","true"));i.append($("<span>",{"class":"proplabel"}).append(n.title));n.keyframed&&(t=$("<div>",{"class":"editbox",style:"margin-bottom:5px;position:relative;width: 140px;height: 24px;top:4px;"}),t.append($("<span>",{"class":"proplabel",style:"top: -5px;position: relative;"}).append("(pause to edit)")),t.append($("<a>",{"class":"sprite-first toolbarButton",title:"previous keyframe"}).click(function(){CM.currentFrame=CM.keyframes.previous(n.property,CM.currentFrame);CM.updateFrameUI()})),t.append($("<a>",{"class":"sprite-moveleft toolbarButton",title:"move backwards"}).click(function(){CM.keyframes.moveBackward(n.property,CM.currentFrame)})),t.append($("<a>",{"class":"sprite-close toolbarButton",title:"delete keyframe"}).click(function(){CM.keyframes.delete(n.property,CM.currentFrame)})),t.append($("<a>",{"class":"sprite-add toolbarButton",title:"add keyframe"}).click(function(){CM.keyframes.add(n.property,CM.currentFrame)})),t.append($("<a>",{"class":"sprite-moveright toolbarButton",title:"move forwards"}).click(function(){CM.keyframes.moveForward(n.property,CM.currentFrame)})),t.append($("<a>",{"class":"sprite-last toolbarButton",title:"next keyframe"}).click(function(){CM.currentFrame=CM.keyframes.next(n.property,CM.currentFrame);CM.updateFrameUI()})),i.append(t),i.append($("<div>",{style:"clear:both;"})));var e=$("<input>",{"class":"jspinner",id:n.id1}),u=$("<input>",{"class":"jspinner",id:n.id2}),f=$("<div>",{"class":"editbox"});if(f.append($("<div>",{"class":"editbox"}).append(n.subtitle1+" ").append(e)).append($("<div>",{style:"clear:both; margin-bottom:3px;"})),f.append($("<div>",{"class":"editbox"}).append(n.subtitle2+" ").append(u)).append($("<div>",{style:"clear:both; margin-bottom:3px;"})),i.append(f),i.append($("<div>",{style:"clear:both;"})),n.positionButtons&&(i.append($("<a>",{"class":"positionButton pointerButton",title:"position with cursor"}).click(function(){draggingObject!==null&&(draggingObject=null);$("#c_backgrounder").css("cursor","crosshair");positioningCrosshair=!0;positioningFunction=function(n,t){$input.val(n);u.val(t);updatefn1(n);updatefn2(t);positioningCrosshair=!1;$("#c_backgrounder").css("cursor","default")}})),i.append($("<a>",{"class":"positionButton centerButton",title:"move to center"}).click(function(){draggingObject!==null&&(draggingObject=null);positioningCrosshair=!1;$input.val(Math.floor(fullImgWidth*.5));u.val(Math.floor(fullImgHeight*.5));updatefn1(Math.floor(fullImgWidth*.5));updatefn2(Math.floor(fullImgHeight*.5))}))),n.keyframed){if(n.tweens){for(r=$("<select>",{style:"margin-right:0;float:right;"}).change(function(){CM.keyframes.exists(n.property,CM.currentFrame).tweenfn=parseInt(this.value)}),x=0;x<TWEEN.EasingList.length;++x)r.append($("<option>",{value:x}).append(TWEEN.EasingList[x].name));i.append(r);i.append($("<div>",{style:"clear:both;"}))}i.data({updateKeyframe:function(){if(CM.enablePlayFrames)f.hide(),r.hide(),t.children().hide(),t.children(":nth-child(1)").show();else{var i=CM.keyframes.exists(n.property,CM.currentFrame);i?(f.show(),i.frame!=1&&n.tweens?(r.show(),r.val(CM.keyframes.exists(n.property,CM.currentFrame).tweenfn)):r.hide(),e.val(i.value[0]),u.val(i.value[1]),t.children().hide(),CM.keyframes.previous(n.property,CM.currentFrame)!=CM.currentFrame&&t.children(":nth-child(2)").show(),CM.keyframes.next(n.property,CM.currentFrame)!=CM.currentFrame&&t.children(":nth-child(7)").show(),i.frame!=1&&t.children(":nth-child(3),:nth-child(4),:nth-child(6)").show()):(f.hide(),r.hide(),t.children().hide(),t.children(":nth-child(5)").show(),CM.keyframes.previous(n.property,CM.currentFrame)!=CM.currentFrame&&t.children(":nth-child(2)").show(),CM.keyframes.next(n.property,CM.currentFrame)!=CM.currentFrame&&t.children(":nth-child(7)").show())}}})}return e.spinner({stop:function(){n.keyframed&&(CM.keyframes.exists(n.property,CM.currentFrame).value[0]=Number(this.value));n.updatefn&&n.updatefn(Number(this.value),0)},max:n.vmax,min:n.vmin,step:n.vstep}),u.spinner({stop:function(){n.keyframed&&(CM.keyframes.exists(n.property,CM.currentFrame).value[1]=Number(this.value));n.updatefn&&n.updatefn(Number(this.value),1)},max:n.vmax,min:n.vmin,step:n.vstep}),n.location.append(i),n.keyframed?i.data("updateKeyframe")():(e.val(n.property[0]),u.val(n.property[1])),i};PZeditor.generateTriInput=function(n){var i=$("<div>",{"class":"proprow",id:n.location.attr("id")+"_"+(n.location.children().length+1)}),t,r;n.keyframed&&(i.append($("<a>",{"class":"sprite-timeinvert",style:"background-color:"+n.color+";"})),i.attr("keyframe","true"));i.append($("<span>",{"class":"proplabel"}).append(n.title));n.keyframed&&(t=$("<div>",{"class":"editbox",style:"margin-bottom:5px;position:relative;width: 140px;height: 24px;top:4px;"}),t.append($("<span>",{"class":"proplabel",style:"top: -5px;position: relative;"}).append("(pause to edit)")),t.append($("<a>",{"class":"sprite-first toolbarButton",title:"previous keyframe"}).click(function(){CM.currentFrame=CM.keyframes.previous(n.property,CM.currentFrame);CM.updateFrameUI()})),t.append($("<a>",{"class":"sprite-moveleft toolbarButton",title:"move backwards"}).click(function(){CM.currentFrame=CM.keyframes.moveBackward(n.property,CM.currentFrame);CM.updateFrameUI()})),t.append($("<a>",{"class":"sprite-close toolbarButton",title:"delete keyframe"}).click(function(){CM.keyframes.delete(n.property,CM.currentFrame)})),t.append($("<a>",{"class":"sprite-add toolbarButton",title:"add keyframe"}).click(function(){CM.keyframes.add(n.property,CM.currentFrame)})),t.append($("<a>",{"class":"sprite-moveright toolbarButton",title:"move forwards"}).click(function(){CM.currentFrame=CM.keyframes.moveForward(n.property,CM.currentFrame);CM.updateFrameUI()})),t.append($("<a>",{"class":"sprite-last toolbarButton",title:"next keyframe"}).click(function(){CM.currentFrame=CM.keyframes.next(n.property,CM.currentFrame);CM.updateFrameUI()})),i.append(t),i.append($("<div>",{style:"clear:both;"})));var f=$("<input>",{"class":"jspinner",id:n.id1}),e=$("<input>",{"class":"jspinner",id:n.id2}),o=$("<input>",{"class":"jspinner",id:n.id3}),u=$("<div>",{"class":"editbox"});if(u.append($("<div>",{"class":"editbox"}).append(n.subtitle3+" <br />").append(o)),u.append($("<div>",{"class":"editbox"}).append(n.subtitle2+" <br />").append(e)),u.append($("<div>",{"class":"editbox"}).append(n.subtitle1+" <br />").append(f)),i.append(u),i.append($("<div>",{style:"clear:both;"})),n.keyframed){if(n.tweens){for(r=$("<select>",{style:"margin-right:0;float:right;"}).change(function(){CM.keyframes.exists(n.property,CM.currentFrame).tweenfn=parseInt(this.value)}),x=0;x<TWEEN.EasingList.length;++x)r.append($("<option>",{value:x}).append(TWEEN.EasingList[x].name));i.append(r);i.append($("<div>",{style:"clear:both;"}))}i.data({updateKeyframe:function(){if(CM.enablePlayFrames)u.css("visibility","hidden"),r.css("visibility","hidden"),t.children().css("visibility","hidden"),t.children(":nth-child(1)").css("visibility","visible");else{var i=CM.keyframes.exists(n.property,CM.currentFrame);i?(u.css("visibility","visible"),i.frame!=1&&n.tweens?(r.css("visibility","visible"),r.val(CM.keyframes.exists(n.property,CM.currentFrame).tweenfn)):r.css("visibility","hidden"),f.val(i.value[0]),e.val(i.value[1]),o.val(i.value[2]),t.children().css("visibility","hidden"),CM.keyframes.previous(n.property,CM.currentFrame)!=CM.currentFrame&&t.children(":nth-child(2)").css("visibility","visible"),CM.keyframes.next(n.property,CM.currentFrame)!=CM.currentFrame&&t.children(":nth-child(7)").css("visibility","visible"),i.frame!=1&&t.children(":nth-child(3),:nth-child(4),:nth-child(6)").css("visibility","visible")):(u.css("visibility","hidden"),r.css("visibility","hidden"),t.children().css("visibility","hidden"),t.children(":nth-child(5)").css("visibility","visible"),CM.keyframes.previous(n.property,CM.currentFrame)!=CM.currentFrame&&t.children(":nth-child(2)").css("visibility","visible"),CM.keyframes.next(n.property,CM.currentFrame)!=CM.currentFrame&&t.children(":nth-child(7)").css("visibility","visible"))}}})}return f.spinner({stop:function(){n.keyframed&&(CM.keyframes.exists(n.property,CM.currentFrame).value[0]=Number(this.value));n.updatefn&&n.updatefn(Number(this.value),0)},max:n.vmax,min:n.vmin,step:n.vstep}),e.spinner({stop:function(){n.keyframed&&(CM.keyframes.exists(n.property,CM.currentFrame).value[1]=Number(this.value));n.updatefn&&n.updatefn(Number(this.value),1)},max:n.vmax,min:n.vmin,step:n.vstep}),o.spinner({stop:function(){n.keyframed&&(CM.keyframes.exists(n.property,CM.currentFrame).value[2]=Number(this.value));n.updatefn&&n.updatefn(Number(this.value),2)},max:n.vmax,min:n.vmin,step:n.vstep}),n.location.append(i),n.keyframed||(f.val(n.property[0]),e.val(n.property[1]),o.val(n.property[2])),i};PZeditor.generateDropdown=function(n){var i=$("<div>",{"class":"proprow",id:n.location.attr("id")+"_"+(n.location.children().length+1)}),t,r,u;for(n.keyframed&&(i.append($("<a>",{"class":"sprite-timeinvert",style:"background-color:"+n.color+";"})),i.attr("keyframe","true")),i.append($("<span>",{"class":"proplabel"}).append(n.title)),n.keyframed&&(t=$("<div>",{"class":"editbox",style:"margin-bottom:5px;position:relative;width: 140px;height: 24px;top:4px;"}),t.append($("<span>",{"class":"proplabel",style:"top: -5px;position: relative;"}).append("(pause to edit)")),t.append($("<a>",{"class":"sprite-first toolbarButton",title:"previous keyframe"}).click(function(){CM.currentFrame=CM.keyframes.previous(n.property,CM.currentFrame);CM.updateFrameUI()})),t.append($("<a>",{"class":"sprite-moveleft toolbarButton",title:"move backwards"}).click(function(){CM.currentFrame=CM.keyframes.moveBackward(n.property,CM.currentFrame);CM.updateFrameUI()})),t.append($("<a>",{"class":"sprite-close toolbarButton",title:"delete keyframe"}).click(function(){CM.keyframes.delete(n.property,CM.currentFrame)})),t.append($("<a>",{"class":"sprite-add toolbarButton",title:"add keyframe"}).click(function(){CM.keyframes.add(n.property,CM.currentFrame)})),t.append($("<a>",{"class":"sprite-moveright toolbarButton",title:"move forwards"}).click(function(){CM.currentFrame=CM.keyframes.moveForward(n.property,CM.currentFrame);CM.updateFrameUI()})),t.append($("<a>",{"class":"sprite-last toolbarButton",title:"next keyframe"}).click(function(){CM.currentFrame=CM.keyframes.next(n.property,CM.currentFrame);CM.updateFrameUI()})),i.append(t),i.append($("<div>",{style:"clear:both;"}))),r=$("<select>",{style:"margin-right:0;"}).change(function(){n.keyframed&&(CM.keyframes.exists(n.property,CM.currentFrame).value=parseInt(this.value)==1?!1:!0);n.updatefn&&n.updatefn(parseInt(this.value))}),u=$("<div>",{"class":"editbox"}).append(r),i.append(u),i.append($("<div>",{style:"clear:both;"})),n.keyframed&&i.data({updateKeyframe:function(){if(CM.enablePlayFrames)u.css("visibility","hidden"),t.children().css("visibility","hidden"),t.children(":nth-child(1)").css("visibility","visible");else{var i=CM.keyframes.exists(n.property,CM.currentFrame);i?(u.css("visibility","visible"),r.val(Number(i.value)+1),t.children().css("visibility","hidden"),CM.keyframes.previous(n.property,CM.currentFrame)!=CM.currentFrame&&t.children(":nth-child(2)").css("visibility","visible"),CM.keyframes.next(n.property,CM.currentFrame)!=CM.currentFrame&&t.children(":nth-child(7)").css("visibility","visible"),i.frame!=1&&t.children(":nth-child(3),:nth-child(4),:nth-child(6)").css("visibility","visible")):(u.css("visibility","hidden"),t.children().css("visibility","hidden"),t.children(":nth-child(5)").css("visibility","visible"),CM.keyframes.previous(n.property,CM.currentFrame)!=CM.currentFrame&&t.children(":nth-child(2)").css("visibility","visible"),CM.keyframes.next(n.property,CM.currentFrame)!=CM.currentFrame&&t.children(":nth-child(7)").css("visibility","visible"))}}}),points=n.items.split(";"),x=0;x<points.length;++x)r.append($("<option>",{value:x+1}).append(points[x]));return n.location.append(i),n.keyframed||r.val(n.property),i};PZeditor.generateButton=function(n){var t=$("<a>",{"class":"tilebutton"+(n.back?" backtile":"")}).append($("<span>").append(n.title)).on("click",n.clickfn);return n.location.append(t),t};PZeditor.generateImagePicker=function(n){var t=$("<div>",{"class":"proprow"});return t.append(presetImgSelector.show()),n.location.append(t),property&&$('img[data-original="'+n.property.src.substring(property.src.lastIndexOf("/")+1)+'"]').parent().addClass("pselected").siblings().removeClass("pselected"),$("li.presetimgs").unbind("click").click(function(){$(this).addClass("pselected").siblings().removeClass("pselected");$.each($(".pselected"),function(t,i){n.updatefn($($(i).children()[0]).attr("data-original"))})}),t};PZeditor.generateFontPicker=function(n){for(var i,u=$("<div>",{"class":"proprow"}),r=$("<ul>",{"class":"selectorList"}),f,t=0;t<n.fonts.length;t++)i=$("<li>",{"class":"presetfonts"}),i.append($("<span>",{style:"font-family: "+n.fonts[t],font:n.fonts[t]}).append(n.fonts[t]).lazyload({container:r})),i.click(function(){$(this).addClass("selected").siblings().removeClass("selected");n.updatefn($(this).children().attr("font"))}),r.append(i),n.fonts[t]==n.property&&(i.addClass("selected"),f=i);return u.append(r),n.location.append(u),r.scrollTop(f.position().top-55),u};PZeditor.generateListPicker=function(n){for(var t,r=$("<div>",{"class":"proprow"}),u=$("<ul>",{"class":"selectorList"}),f,i=0;i<n.items.length;i++)t=$("<li>",{"class":"presetfonts"}),t.append($("<span>",{item:n.items[i]}).append(n.items[i])),t.click(function(){$(this).addClass("selected").siblings().removeClass("selected");n.updatefn($(this).children().attr("item"))}),u.append(t),n.items[i]==n.property&&(t.addClass("selected"),f=t);return r.append(u),n.location.append(r),u.scrollTop(f.position().top-55),r};PZeditor.generateTextInput=function(n){var t=$("<div>",{"class":"proprow",id:n.location.attr("id")+"_"+(n.location.children().length+1)}),i=$("<input>",{style:"border: 1px solid #DADADA;padding: 5px;width: 280px;display:block;width:95%;margin:auto;"}).val(n.property).on("change",function(){n.updatefn(this.value)});return t.append(i),n.location.append(t),t};PZeditor.generateColorPicker=function(n){var i=$("<div>",{"class":"proprow",id:n.location.attr("id")+"_"+(n.location.children().length+1)}),t,u,f,r;if(n.keyframed&&(i.append($("<a>",{"class":"sprite-timeinvert",style:"background-color:"+n.color+";"})),i.attr("keyframe","true")),i.append($("<span>",{"class":"proplabel"}).append(n.title)),n.keyframed&&(t=$("<div>",{"class":"editbox",style:"margin-bottom:5px;position:relative;width: 140px;height: 24px;top:4px;"}),t.append($("<span>",{"class":"proplabel",style:"top: -5px;position: relative;"}).append("(pause to edit)")),t.append($("<a>",{"class":"sprite-first toolbarButton",title:"previous keyframe"}).click(function(){CM.currentFrame=CM.keyframes.previous(n.property,CM.currentFrame);CM.updateFrameUI()})),t.append($("<a>",{"class":"sprite-moveleft toolbarButton",title:"move backwards"}).click(function(){CM.currentFrame=CM.keyframes.moveBackward(n.property,CM.currentFrame);CM.updateFrameUI()})),t.append($("<a>",{"class":"sprite-close toolbarButton",title:"delete keyframe"}).click(function(){CM.keyframes.delete(n.property,CM.currentFrame)})),t.append($("<a>",{"class":"sprite-add toolbarButton",title:"add keyframe"}).click(function(){CM.keyframes.add(n.property,CM.currentFrame)})),t.append($("<a>",{"class":"sprite-moveright toolbarButton",title:"move forwards"}).click(function(){CM.currentFrame=CM.keyframes.moveForward(n.property,CM.currentFrame);CM.updateFrameUI()})),t.append($("<a>",{"class":"sprite-last toolbarButton",title:"next keyframe"}).click(function(){CM.currentFrame=CM.keyframes.next(n.property,CM.currentFrame);CM.updateFrameUI()})),i.append(t),i.append($("<div>",{style:"clear:both;"}))),u=$("<div>",{style:"display: inline-block;"}),f=$("<div>",{"class":"editbox"}).append(u),i.append(f),i.append($("<div>",{style:"clear:both;"})),n.keyframed){if(n.tweens){for(r=$("<select>",{style:"margin-right:0;float:right;"}).change(function(){CM.keyframes.exists(n.property,CM.currentFrame).tweenfn=parseInt(this.value)}),x=0;x<TWEEN.EasingList.length;++x)r.append($("<option>",{value:x}).append(TWEEN.EasingList[x].name));i.append(r);i.append($("<div>",{style:"clear:both;"}))}i.data({updateKeyframe:function(){var i,e;CM.enablePlayFrames?(f.css("visibility","hidden"),r.css("visibility","hidden"),t.children().css("visibility","hidden"),t.children(":nth-child(1)").css("visibility","visible")):(i=CM.keyframes.exists(n.property,CM.currentFrame),i?(f.css("visibility","visible"),i.frame!=1&&n.tweens?(r.css("visibility","visible"),r.val(CM.keyframes.exists(n.property,CM.currentFrame).tweenfn)):r.css("visibility","hidden"),e=i.value[3]?"rgba(":"rgb(",e+=Math.floor(i.value[0])+", "+Math.floor(i.value[1])+", "+Math.floor(i.value[2]),i.value[3]&&(e+=", ",e+=i.value[3]/255),e+=")",u.colorpicker("setColor",e),t.children().css("visibility","hidden"),CM.keyframes.previous(n.property,CM.currentFrame)!=CM.currentFrame&&t.children(":nth-child(2)").css("visibility","visible"),CM.keyframes.next(n.property,CM.currentFrame)!=CM.currentFrame&&t.children(":nth-child(7)").css("visibility","visible"),i.frame!=1&&t.children(":nth-child(3),:nth-child(4),:nth-child(6)").css("visibility","visible")):(f.css("visibility","hidden"),r.css("visibility","hidden"),t.children().css("visibility","hidden"),t.children(":nth-child(5)").css("visibility","visible"),CM.keyframes.previous(n.property,CM.currentFrame)!=CM.currentFrame&&t.children(":nth-child(2)").css("visibility","visible"),CM.keyframes.next(n.property,CM.currentFrame)!=CM.currentFrame&&t.children(":nth-child(7)").css("visibility","visible")))}})}return u.colorpicker({parts:"popup",showOn:"button",buttonColorize:!0,close:function(t,i){n.keyframed&&(CM.keyframes.exists(n.property,CM.currentFrame).value=getBytecolor(i.formatted));n.closefn&&n.closefn(i.formatted)},colorFormat:n.hasalpha?"RGBA":"RGB",buttonImage:"/legacy/img/select2.png",buttonImageOnly:!0,color:"rgba(0, 0, 0, 1)",alpha:n.hasalpha}),n.location.append(i),n.keyframed?i.data("updateKeyframe")():u.colorpicker("setColor",n.property),i};PZeditor.generateSpacer=function(n){var t=$("<div>",{"class":"proprow",style:"background-color: #FAFAFA; padding-top:10px;"});return n.location.append(t),t};PZeditor.generatePlaceholder=function(n){var t=$("<div>");return n.location.append(t),t};
/*
//# sourceMappingURL=pzeditor.min.js.map
*/